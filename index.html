<!DOCTYPE html>

<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brackets Tracker</title>
    <link rel="apple-touch-icon" href="icon-180.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body{background:linear-gradient(135deg,#0f172a,#1e293b);color:#fff;font-family:-apple-system,sans-serif;min-height:100vh}
        .molar-happy{animation:bounce 2s infinite}
        @keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
        .floating{animation:float 3s ease-in-out infinite}
        @keyframes float{0%,100%{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(5deg)}}
        .tab-active{background:linear-gradient(135deg,#667eea,#764ba2)}
        .card{transition:all .3s;cursor:pointer}
        .card:hover{transform:translateY(-5px)}
        .r-common{border-color:#9ca3af}
        .r-rare{border-color:#3b82f6}
        .r-epic{border-color:#a855f7}
        .r-legendary{border-color:#eab308;animation:glow 2s infinite}
        @keyframes glow{0%,100%{box-shadow:0 0 20px rgba(234,179,8,.5)}50%{box-shadow:0 0 30px rgba(234,179,8,.8)}}
        .owned{opacity:1}
        .missing{opacity:.3;filter:grayscale(100%)}
    </style>
</head>
<body>
    <div id="app" class="max-w-md mx-auto p-4 pb-24"></div>
    <nav class="fixed bottom-0 left-0 right-0 bg-gray-900/95 backdrop-blur border-t border-gray-800 z-50">
        <div class="max-w-md mx-auto flex justify-around py-2">
            <button onclick="page('home')" class="flex flex-col items-center gap-1 px-3 py-2 rounded-lg" id="t-home">
                <span class="text-2xl">ğŸ </span><span class="text-xs">Inicio</span>
            </button>
            <button onclick="page('pokedex')" class="flex flex-col items-center gap-1 px-3 py-2 rounded-lg" id="t-pokedex">
                <span class="text-2xl">ğŸ“–</span><span class="text-xs">ColecciÃ³n</span>
            </button>
            <button onclick="page('wardrobe')" class="flex flex-col items-center gap-1 px-3 py-2 rounded-lg" id="t-wardrobe">
                <span class="text-2xl">ğŸ‘”</span><span class="text-xs">Vestidor</span>
            </button>
            <button onclick="page('shop')" class="flex flex-col items-center gap-1 px-3 py-2 rounded-lg" id="t-shop">
                <span class="text-2xl">ğŸ›ï¸</span><span class="text-xs">Tienda</span>
            </button>
        </div>
    </nav>
    <script>
const DB=[
{i:1,n:'Gorra Roja',c:'hat',r:'common',p:30},
{i:2,n:'Sombrero Cowboy',c:'hat',r:'rare',p:50},
{i:3,n:'Corona de Oro',c:'hat',r:'legendary',p:100},
{i:4,n:'Chistera Negra',c:'hat',r:'epic',p:75},
{i:5,n:'Gorro de Chef',c:'hat',r:'common',p:35},
{i:6,n:'Casco Espacial',c:'hat',r:'legendary',p:120},
{i:7,n:'Boina Francesa',c:'hat',r:'rare',p:45},
{i:8,n:'Tricornio Pirata',c:'hat',r:'epic',p:80},
{i:9,n:'Casco con Cuernos',c:'hat',r:'epic',p:85},
{i:10,n:'Gorro de PapÃ¡ Noel',c:'hat',r:'rare',p:55},
{i:11,n:'Turbante Dorado',c:'hat',r:'rare',p:50},
{i:12,n:'Kabuto Samurai',c:'hat',r:'legendary',p:110},
{i:13,n:'Sombrero de Paja',c:'hat',r:'common',p:25},
{i:14,n:'Corona de Flores',c:'hat',r:'rare',p:60},
{i:15,n:'Aureola Brillante',c:'hat',r:'legendary',p:150},
{i:16,n:'Cuernos DemonÃ­acos',c:'hat',r:'epic',p:90},
{i:17,n:'Yelmo Medieval',c:'hat',r:'epic',p:95},
{i:18,n:'Sombrero de Duende',c:'hat',r:'rare',p:55},
{i:19,n:'Tiara de Diamantes',c:'hat',r:'legendary',p:130},
{i:20,n:'Casco con Linterna',c:'hat',r:'common',p:40},
{i:21,n:'Gafas de Sol Negras',c:'glasses',r:'common',p:30},
{i:22,n:'Gafas de Pasta',c:'glasses',r:'common',p:25},
{i:23,n:'Gafas 3D Rojas',c:'glasses',r:'rare',p:50},
{i:24,n:'MonÃ³culo Dorado',c:'glasses',r:'epic',p:70},
{i:25,n:'Gafas Aviador',c:'glasses',r:'rare',p:55},
{i:26,n:'Visor LÃ¡ser Rojo',c:'glasses',r:'legendary',p:100},
{i:27,n:'Gafas Redondas',c:'glasses',r:'common',p:30},
{i:28,n:'MÃ¡scara de Buceo',c:'glasses',r:'rare',p:45},
{i:29,n:'Gafas de EsquÃ­',c:'glasses',r:'rare',p:50},
{i:30,n:'Visor RGB Gaming',c:'glasses',r:'epic',p:80},
{i:31,n:'Gafas de Gato',c:'glasses',r:'rare',p:45},
{i:32,n:'Gafas con Corazones',c:'glasses',r:'rare',p:55},
{i:33,n:'Visor Cyberpunk',c:'glasses',r:'legendary',p:120},
{i:34,n:'Gafas de Estrella',c:'glasses',r:'epic',p:75},
{i:35,n:'Anteojos Vintage',c:'glasses',r:'common',p:20},
{i:36,n:'Lentes HologrÃ¡ficos',c:'glasses',r:'legendary',p:110},
{i:37,n:'Gafas Deportivas',c:'glasses',r:'common',p:35},
{i:38,n:'Casco VR',c:'glasses',r:'epic',p:85},
{i:39,n:'Lupa de Detective',c:'glasses',r:'rare',p:50},
{i:40,n:'Gafas Pixeladas',c:'glasses',r:'epic',p:70},
{i:41,n:'Pajarita Roja',c:'accessory',r:'rare',p:40},
{i:42,n:'Collar de Perlas',c:'accessory',r:'epic',p:75},
{i:43,n:'Bufanda a Rayas',c:'accessory',r:'common',p:30},
{i:44,n:'Corbata Azul',c:'accessory',r:'common',p:25},
{i:45,n:'Cadena de Oro',c:'accessory',r:'legendary',p:100},
{i:46,n:'Medalla Dorada',c:'accessory',r:'legendary',p:120},
{i:47,n:'PaÃ±uelo de Seda',c:'accessory',r:'rare',p:45},
{i:48,n:'Alas de Ãngel',c:'accessory',r:'legendary',p:150},
{i:49,n:'Capa de HÃ©roe',c:'accessory',r:'epic',p:90},
{i:50,n:'Cola de Sirena',c:'accessory',r:'legendary',p:130},
{i:51,n:'Aura de Fuego',c:'effect',r:'legendary',p:150},
{i:52,n:'Lluvia de Estrellas',c:'effect',r:'legendary',p:140},
{i:53,n:'Destellos MÃ¡gicos',c:'effect',r:'epic',p:90},
{i:54,n:'Corazones Flotantes',c:'effect',r:'rare',p:60},
{i:55,n:'RelÃ¡mpagos Azules',c:'effect',r:'legendary',p:130},
{i:56,n:'Copos de Nieve',c:'effect',r:'rare',p:55},
{i:57,n:'Hojas Cayendo',c:'effect',r:'rare',p:50},
{i:58,n:'PÃ©talos de Rosa',c:'effect',r:'epic',p:75},
{i:59,n:'Burbujas Brillantes',c:'effect',r:'common',p:40},
{i:60,n:'ArcoÃ­ris Brillante',c:'effect',r:'legendary',p:145},
{i:61,n:'Resplandor Lunar',c:'effect',r:'epic',p:85},
{i:62,n:'Rayos de Sol',c:'effect',r:'epic',p:80},
{i:63,n:'Estela de Cometa',c:'effect',r:'legendary',p:135},
{i:64,n:'Galaxia Giratoria',c:'effect',r:'legendary',p:160},
{i:65,n:'Tormenta ElÃ©ctrica',c:'effect',r:'epic',p:95},
{i:66,n:'Remolino de Viento',c:'effect',r:'epic',p:90},
{i:67,n:'Olas del Mar',c:'effect',r:'rare',p:65},
{i:68,n:'Lava VolcÃ¡nica',c:'effect',r:'legendary',p:155},
{i:69,n:'JardÃ­n Floreciente',c:'effect',r:'rare',p:55},
{i:70,n:'Confeti de Colores',c:'effect',r:'common',p:45},
{i:71,n:'Fuegos Artificiales',c:'effect',r:'legendary',p:125},
{i:72,n:'Enjambre de Mariposas',c:'effect',r:'rare',p:60},
{i:73,n:'LuciÃ©rnagas Doradas',c:'effect',r:'epic',p:85},
{i:74,n:'Niebla Misteriosa',c:'effect',r:'rare',p:50},
{i:75,n:'Aurora Boreal',c:'effect',r:'legendary',p:170}
];
let S={streak:0,pts:0,last:null,missions:[{id:1,time:'12:00',done:false,label:'MediodÃ­a',h:12},{id:2,time:'15:00',done:false,label:'Tarde',h:15},{id:3,time:'22:00',done:false,label:'Noche',h:22}],own:[],eq:{hat:null,glasses:null,accessory:null,effect:null},music:false,pg:'home',filt:'all'};
const A=new Audio('https://cdn.pixabay.com/download/audio/2021/08/04/audio_12b0c7443c.mp3');A.loop=1;A.volume=.3;
function load(){const d=localStorage.getItem('bv4');if(d){S={...S,...JSON.parse(d)};checkNewDay();}}
function save(){localStorage.setItem('bv4',JSON.stringify(S));}
function checkNewDay(){const today=new Date().toDateString();if(S.last&&S.last!==today){const lastDate=new Date(S.last);const todayDate=new Date(today);const diffDays=Math.floor((todayDate-lastDate)/(1000*60*60*24));if(diffDays>1){S.streak=0;}S.missions.forEach(m=>m.done=false);save();}}
function page(p){S.pg=p;document.querySelectorAll('[id^="t-"]').forEach(b=>b.classList.remove('tab-active'));document.getElementById('t-'+p).classList.add('tab-active');render();}
function music(){S.music?A.pause():A.play().catch(()=>{});S.music=!S.music;render();}
function getT(h){const n=new Date(),t=new Date();t.setHours(h,0,0,0);if(n>t)t.setDate(t.getDate()+1);const d=t-n;return Math.floor(d/3600000)+'h '+Math.floor(d%3600000/60000)+'m';}
function doM(id){const m=S.missions.find(x=>x.id===id);if(!m.done){m.done=1;S.pts+=10;const today=new Date().toDateString();const allDone=S.missions.every(x=>x.done);if(allDone&&S.last!==today){S.streak++;S.last=today;}save();render();}}
function reset(){if(confirm('Â¿Reiniciar racha?')){S.streak=0;save();render();}}
function buy(id){const it=DB.find(x=>x.i===id);if(it&&S.pts>=it.p&&!S.own.includes(id)){S.pts-=it.p;S.own.push(id);save();render();}}
function equip(id){const it=DB.find(x=>x.i===id);if(!it||!S.own.includes(id))return;S.eq[it.c]=S.eq[it.c]===id?null:id;save();render();}
function filt(f){S.filt=f;render();}
function drawMolar(){const h=S.missions.filter(m=>m.done).length>=2;const e={hat:S.eq.hat?DB.find(c=>c.i===S.eq.hat):null,glasses:S.eq.glasses?DB.find(c=>c.i===S.eq.glasses):null,accessory:S.eq.accessory?DB.find(c=>c.i===S.eq.accessory):null,effect:S.eq.effect?DB.find(c=>c.i===S.eq.effect):null};return`<div class="relative flex items-center justify-center ${h?'molar-happy':''}"><svg width="200" height="240" viewBox="0 0 200 240" class="drop-shadow-2xl relative z-20"><defs><linearGradient id="tg"><stop offset="0%" stop-color="#fff"/><stop offset="100%" stop-color="#f5f5f5"/></linearGradient><radialGradient id="sh"><stop offset="0%" stop-color="#fff" stop-opacity=".6"/><stop offset="100%" stop-color="#fff" stop-opacity="0"/></radialGradient></defs><ellipse cx="100" cy="220" rx="80" ry="15" fill="#000" opacity=".2"/><path d="M60 40 Q50 45 45 60 L45 130 Q45 150 55 165 L70 190 Q75 200 80 200 L80 200 Q85 210 90 210 L110 210 Q115 210 120 200 L120 200 Q125 200 130 190 L145 165 Q155 150 155 130 L155 60 Q150 45 140 40 Q130 35 120 35 L80 35 Q70 35 60 40" fill="url(#tg)" stroke="#e5e5e5" stroke-width="3"/><ellipse cx="70" cy="70" rx="25" ry="40" fill="url(#sh)"/><ellipse cx="130" cy="70" rx="25" ry="40" fill="url(#sh)"/><path d="M75 90 L85 110 L75 130 L65 110 Z" fill="#f0f0f0" stroke="#ddd" stroke-width="1"/><path d="M95 90 L105 110 L95 130 L85 110 Z" fill="#f0f0f0" stroke="#ddd" stroke-width="1"/><path d="M115 90 L125 110 L115 130 L105 110 Z" fill="#f0f0f0" stroke="#ddd" stroke-width="1"/><path d="M135 90 L145 110 L135 130 L125 110 Z" fill="#f0f0f0" stroke="#ddd" stroke-width="1"/>${e.glasses?'<g transform="translate(100,100)"><rect x="-35" y="-15" width="30" height="25" rx="8" fill="none" stroke="#222" stroke-width="4"/><rect x="5" y="-15" width="30" height="25" rx="8" fill="none" stroke="#222" stroke-width="4"/><line x1="-5" y1="-2" x2="5" y2="-2" stroke="#222" stroke-width="4"/><rect x="-35" y="-15" width="30" height="25" rx="8" fill="#87CEEB" opacity=".2"/><rect x="5" y="-15" width="30" height="25" rx="8" fill="#87CEEB" opacity=".2"/></g>':'<g transform="translate(100,100)"><rect x="-35" y="-15" width="30" height="25" rx="8" fill="none" stroke="#666" stroke-width="3"/><rect x="5" y="-15" width="30" height="25" rx="8" fill="none" stroke="#666" stroke-width="3"/><line x1="-5" y1="-2" x2="5" y2="-2" stroke="#666" stroke-width="3"/></g>'}<circle cx="75" cy="100" r="6" fill="#333"/><circle cx="125" cy="100" r="6" fill="#333"/>${h?'<path d="M75 135 Q100 150 125 135" stroke="#333" stroke-width="5" fill="none" stroke-linecap="round"/><circle cx="55" cy="115" r="12" fill="#ffb3ba" opacity=".6"/><circle cx="145" cy="115" r="12" fill="#ffb3ba" opacity=".6"/>':'<line x1="75" y1="135" x2="125" y2="135" stroke="#333" stroke-width="5" stroke-linecap="round"/>'}</svg>${e.hat?`<div class="absolute -top-20 left-1/2 -translate-x-1/2 z-30"><div class="w-24 h-16 bg-gradient-to-b ${e.hat.i===3?'from-yellow-400 to-yellow-600':'from-red-600 to-red-800'} rounded-t-full shadow-xl relative"><div class="absolute inset-0 bg-white/20 rounded-t-full"></div></div></div>`:''}${e.glasses?`<div class="absolute top-16 left-1/2 -translate-x-1/2 z-30"></div>`:''}${e.accessory?`<div class="absolute bottom-4 left-1/2 -translate-x-1/2 z-30"><div class="w-20 h-8 bg-gradient-to-r from-blue-600 to-blue-800 rounded-lg shadow-lg relative"><div class="absolute inset-0 bg-white/30 rounded-lg"></div></div></div>`:''}${e.effect?`<div class="absolute inset-0 flex items-center justify-center z-10"><div class="w-48 h-48 bg-gradient-radial ${e.effect.i===51?'from-orange-500/30 to-transparent':e.effect.i===52?'from-yellow-300/30 to-transparent':'from-purple-500/30 to-transparent'} rounded-full floating"></div></div>`:''}</div>`;}
function home(){const h=S.missions.filter(m=>m.done).length>=2;return`<div class="flex justify-between items-center mb-6"><div class="flex items-center gap-2"><span class="text-3xl">ğŸ†</span><span class="text-2xl font-bold">${S.streak}</span><span class="text-sm text-gray-400">dÃ­as</span></div><div class="flex items-center gap-3"><button onclick="music()" class="p-2 bg-gray-800 rounded-full text-2xl">${S.music?'ğŸ”Š':'ğŸ”‡'}</button><div class="flex items-center gap-2"><span class="text-3xl">â­</span><span class="text-2xl font-bold">${S.pts}</span></div></div></div><button onclick="reset()" class="w-full bg-gradient-to-r from-red-600 to-red-700 text-white font-bold py-4 rounded-2xl mb-6 flex items-center justify-center gap-2 shadow-xl"><span class="text-2xl">âš ï¸</span><span>Â¡Bracket caÃ­do!</span></button><div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-3xl p-8 mb-6 shadow-2xl">${drawMolar()}<p class="mt-6 text-xl text-center font-bold">${h?'Â¡Muela feliz! ğŸ˜Šâœ¨':'Â¡Completa misiones! ğŸ¦·'}</p></div><div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6 shadow-xl"><h2 class="text-2xl font-bold mb-4">â° Misiones del DÃ­a</h2><div class="space-y-3">${S.missions.map(m=>`<div class="flex items-center justify-between p-4 rounded-xl ${m.done?'bg-green-900/40 border-2 border-green-500':'bg-gray-700/50'}"><div class="flex-1"><p class="font-bold text-lg">${m.label}</p><p class="text-sm text-gray-400">${m.time} Â· Quedan ${getT(m.h)}</p></div><button onclick="doM(${m.id})" ${m.done?'disabled':''} class="px-5 py-2 rounded-xl font-bold text-sm ${m.done?'bg-green-600 cursor-not-allowed':'bg-blue-600 hover:bg-blue-700'}">${m.done?'âœ“ Hecho':'Completar'}</button></div>`).join('')}</div></div>`;}
function pdx(){const cats={all:'Todos',hat:'Sombreros',glasses:'Lentes',accessory:'Accesorios',effect:'Efectos'};const f=S.filt==='all'?DB:DB.filter(c=>c.c===S.filt);const o=f.filter(c=>S.own.includes(c.i)).length;return`<h1 class="text-3xl font-bold mb-4 text-center">ğŸ“– ColecciÃ³n</h1><div class="bg-gradient-to-r from-purple-900/40 to-blue-900/40 rounded-xl p-4 mb-4 text-center border border-purple-500/30"><p class="text-2xl font-bold text-purple-300">${o}/${f.length}</p><p class="text-sm">CosmÃ©ticos coleccionados</p></div><div class="flex gap-2 mb-4 overflow-x-auto pb-2">${Object.keys(cats).map(k=>`<button onclick="filt('${k}')" class="px-4 py-2 rounded-xl font-bold text-sm whitespace-nowrap ${S.filt===k?'bg-purple-600':'bg-gray-800 hover:bg-gray-700'}">${cats[k]}</button>`).join('')}</div><div class="grid grid-cols-2 gap-3">${f.map(it=>{const own=S.own.includes(it.i);return`<div class="card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 text-center border-2 r-${it.r} ${own?'owned':'missing'}"><div class="text-xs font-bold mb-2 ${it.r==='legendary'?'text-yellow-400':it.r==='epic'?'text-purple-400':it.r==='rare'?'text-blue-400':'text-gray-400'}">${it.r.toUpperCase()}</div><div class="w-16 h-16 mx-auto mb-3 rounded-lg ${own?'bg-gradient-to-br from-blue-500 to-purple-600':'bg-gray-700'} flex items-center justify-center shadow-lg"><span class="text-3xl">${own?'âœ¨':'â“'}</span></div><p class="text-xs font-bold mb-2">${own?it.n:'???'}</p><div class="text-xs text-yellow-400 font-bold">â­ ${it.p} pts</div></div>`;}).join('')}</div>`;}
function ward(){const cats={hat:'Sombreros',glasses:'Lentes',accessory:'Accesorios',effect:'Efectos'};let h='<h1 class="text-3xl font-bold mb-6 text-center">ğŸ‘” Vestidor</h1>';Object.keys(cats).forEach(cat=>{const its=DB.filter(c=>c.c===cat&&S.own.includes(c.i));if(its.length>0){h+=`<div class="mb-6"><h2 class="text-xl font-bold mb-3 text-purple-400">${cats[cat]} (${its.length})</h2><div class="grid grid-cols-2 gap-3">`;its.forEach(it=>{const eq=S.eq[cat]===it.i;h+=`<div onclick="equip(${it.i})" class="card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 text-center border-2 r-${it.r} ${eq?'ring-4 ring-purple-500':''}"><div class="w-16 h-16 mx-auto mb-3 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg"><span class="text-3xl">âœ¨</span></div><p class="text-xs font-bold mb-2">${it.n}</p><button class="w-full mt-2 py-2 rounded-lg text-xs font-bold transition ${eq?'bg-purple-600':'bg-gray-700 hover:bg-gray-600'}">${eq?'âœ“ Equipado':'Equipar'}</button></div>`;});h+='</div></div>';}});if(S.own.length===0)h+='<div class="text-center py-12 text-gray-400"><p class="text-6xl mb-4">ğŸ›ï¸</p><p class="text-lg">Â¡AÃºn no tienes cosmÃ©ticos!</p><p class="text-sm mt-2">Visita la tienda para comprar</p></div>';return h;}
function shop(){return`<h1 class="text-3xl font-bold mb-6 text-center">ğŸ›ï¸ Tienda de CosmÃ©ticos</h1><div class="bg-gradient-to-r from-purple-900/40 to-blue-900/40 rounded-xl p-4 mb-6 text-center border border-purple-500/30"><p class="text-lg font-bold text-purple-300">ğŸ’ ${DB.length} CosmÃ©ticos Disponibles</p><p class="text-sm text-gray-300 mt-1">Colecciona todos los items</p></div><div class="grid grid-cols-2 gap-3">${DB.map(it=>{const own=S.own.includes(it.i);const can=S.pts>=it.p;return`<div class="card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-4 text-center border-2 r-${it.r} shadow-lg ${own?'opacity-60':''}"><div class="text-xs font-bold mb-2 ${it.r==='legendary'?'text-yellow-400':it.r==='epic'?'text-purple-400':it.r==='rare'?'text-blue-400':'text-gray-400'}">${it.r.toUpperCase()}</div><div class="w-16 h-16 mx-auto mb-3 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg"><span class="text-3xl">âœ¨</span></div><p class="text-xs font-bold mb-2">${it.n}</p><div class="flex items-center justify-center gap-1 mb-3 text-yellow-400 font-bold"><span>â­</span><span>${it.p}</span></div>${own?'<button disabled class="w-full py-2 bg-green-600/50 rounded-lg text-xs font-bold cursor-not-allowed">âœ“ Comprado</button>':`<button onclick="buy(${it.i})" ${!can?'disabled':''} class="w-full py-2 rounded-lg text-xs font-bold transition ${can?'bg-blue-600 hover:bg-blue-700 active:scale-95':'bg-gray-600 cursor-not-allowed opacity-50'}">${can?'Comprar':'Sin puntos'}</button>`}</div>`;}).join('')}</div>`;}
function render(){document.getElementById('app').innerHTML=S.pg==='home'?home():S.pg==='pokedex'?pdx():S.pg==='wardrobe'?ward():shop();}
load();page('home');
    </script>
</body>
</html>