<!DOCTYPE html>

<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brackets Tracker</title>
    <link rel="apple-touch-icon" href="icon-180.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body{background:linear-gradient(135deg,#0f172a,#1e293b);color:#fff;font-family:-apple-system,sans-serif;min-height:100vh}
        .molar-happy{animation:bounce 2s infinite}
        @keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
        .floating{animation:float 3s ease-in-out infinite}
        @keyframes float{0%,100%{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(5deg)}}
        .tab-active{background:linear-gradient(135deg,#667eea,#764ba2)}
        .card{transition:all .3s;cursor:pointer}
        .card:hover{transform:translateY(-5px)}
        .r-common{border-color:#9ca3af}
        .r-rare{border-color:#3b82f6}
        .r-epic{border-color:#a855f7}
        .r-legendary{border-color:#eab308;animation:glow 2s infinite}
        @keyframes glow{0%,100%{box-shadow:0 0 20px rgba(234,179,8,.5)}50%{box-shadow:0 0 30px rgba(234,179,8,.8)}}
        .owned{opacity:1}
        .missing{opacity:.3;filter:grayscale(100%)}
        .sparkle{animation:sparkle 2s infinite}
        @keyframes sparkle{0%,100%{opacity:.5}50%{opacity:1}}
    </style>
</head>
<body>
    <div id="app" class="max-w-md mx-auto p-4 pb-24"></div>
    <nav class="fixed bottom-0 left-0 right-0 bg-gray-900/95 backdrop-blur border-t border-gray-800 z-50">
        <div class="max-w-md mx-auto flex justify-around py-2">
            <button onclick="page('home')" class="flex flex-col items-center gap-1 px-3 py-2 rounded-lg" id="t-home">
                <span class="text-2xl">ğŸ </span><span class="text-xs">Inicio</span>
            </button>
            <button onclick="page('pokedex')" class="flex flex-col items-center gap-1 px-3 py-2 rounded-lg" id="t-pokedex">
                <span class="text-2xl">ğŸ“–</span><span class="text-xs">ColecciÃ³n</span>
            </button>
            <button onclick="page('wardrobe')" class="flex flex-col items-center gap-1 px-3 py-2 rounded-lg" id="t-wardrobe">
                <span class="text-2xl">ğŸ‘”</span><span class="text-xs">Vestidor</span>
            </button>
            <button onclick="page('shop')" class="flex flex-col items-center gap-1 px-3 py-2 rounded-lg" id="t-shop">
                <span class="text-2xl">ğŸ›ï¸</span><span class="text-xs">Tienda</span>
            </button>
        </div>
    </nav>
    <script>
const DB=[
{i:1,n:'Gorra Roja',c:'hat',r:'common',p:30},
{i:2,n:'Sombrero Cowboy',c:'hat',r:'rare',p:50},
{i:3,n:'Corona de Oro',c:'hat',r:'legendary',p:100},
{i:4,n:'Chistera Negra',c:'hat',r:'epic',p:75},
{i:5,n:'Gorro de Chef',c:'hat',r:'common',p:35},
{i:6,n:'Casco Espacial',c:'hat',r:'legendary',p:120},
{i:7,n:'Boina Francesa',c:'hat',r:'rare',p:45},
{i:8,n:'Tricornio Pirata',c:'hat',r:'epic',p:80},
{i:9,n:'Casco con Cuernos',c:'hat',r:'epic',p:85},
{i:10,n:'Gorro de PapÃ¡ Noel',c:'hat',r:'rare',p:55},
{i:11,n:'Turbante Dorado',c:'hat',r:'rare',p:50},
{i:12,n:'Kabuto Samurai',c:'hat',r:'legendary',p:110},
{i:13,n:'Sombrero de Paja',c:'hat',r:'common',p:25},
{i:14,n:'Corona de Flores',c:'hat',r:'rare',p:60},
{i:15,n:'Aureola Brillante',c:'hat',r:'legendary',p:150},
{i:16,n:'Cuernos DemonÃ­acos',c:'hat',r:'epic',p:90},
{i:17,n:'Yelmo Medieval',c:'hat',r:'epic',p:95},
{i:18,n:'Sombrero de Duende',c:'hat',r:'rare',p:55},
{i:19,n:'Tiara de Diamantes',c:'hat',r:'legendary',p:130},
{i:20,n:'Casco con Linterna',c:'hat',r:'common',p:40},
{i:21,n:'Gafas de Sol Negras',c:'glasses',r:'common',p:30},
{i:22,n:'Gafas de Pasta',c:'glasses',r:'common',p:25},
{i:23,n:'Gafas 3D Rojas',c:'glasses',r:'rare',p:50},
{i:24,n:'MonÃ³culo Dorado',c:'glasses',r:'epic',p:70},
{i:25,n:'Gafas Aviador',c:'glasses',r:'rare',p:55},
{i:26,n:'Visor LÃ¡ser Rojo',c:'glasses',r:'legendary',p:100},
{i:27,n:'Gafas Redondas',c:'glasses',r:'common',p:30},
{i:28,n:'MÃ¡scara de Buceo',c:'glasses',r:'rare',p:45},
{i:29,n:'Gafas de EsquÃ­',c:'glasses',r:'rare',p:50},
{i:30,n:'Visor RGB Gaming',c:'glasses',r:'epic',p:80},
{i:31,n:'Gafas de Gato',c:'glasses',r:'rare',p:45},
{i:32,n:'Gafas con Corazones',c:'glasses',r:'rare',p:55},
{i:33,n:'Visor Cyberpunk',c:'glasses',r:'legendary',p:120},
{i:34,n:'Gafas de Estrella',c:'glasses',r:'epic',p:75},
{i:35,n:'Anteojos Vintage',c:'glasses',r:'common',p:20},
{i:36,n:'Lentes HologrÃ¡ficos',c:'glasses',r:'legendary',p:110},
{i:37,n:'Gafas Deportivas',c:'glasses',r:'common',p:35},
{i:38,n:'Casco VR',c:'glasses',r:'epic',p:85},
{i:39,n:'Lupa de Detective',c:'glasses',r:'rare',p:50},
{i:40,n:'Gafas Pixeladas',c:'glasses',r:'epic',p:70},
{i:41,n:'Pajarita Roja',c:'accessory',r:'rare',p:40},
{i:42,n:'Collar de Perlas',c:'accessory',r:'epic',p:75},
{i:43,n:'Bufanda a Rayas',c:'accessory',r:'common',p:30},
{i:44,n:'Corbata Azul',c:'accessory',r:'common',p:25},
{i:45,n:'Cadena de Oro',c:'accessory',r:'legendary',p:100},
{i:46,n:'Medalla Dorada',c:'accessory',r:'legendary',p:120},
{i:47,n:'PaÃ±uelo de Seda',c:'accessory',r:'rare',p:45},
{i:48,n:'Alas de Ãngel',c:'accessory',r:'legendary',p:150},
{i:49,n:'Capa de HÃ©roe',c:'accessory',r:'epic',p:90},
{i:50,n:'Cola de Sirena',c:'accessory',r:'legendary',p:130},
{i:51,n:'Aura de Fuego',c:'effect',r:'legendary',p:150},
{i:52,n:'Lluvia de Estrellas',c:'effect',r:'legendary',p:140},
{i:53,n:'Destellos MÃ¡gicos',c:'effect',r:'epic',p:90},
{i:54,n:'Corazones Flotantes',c:'effect',r:'rare',p:60},
{i:55,n:'RelÃ¡mpagos Azules',c:'effect',r:'legendary',p:130},
{i:56,n:'Copos de Nieve',c:'effect',r:'rare',p:55},
{i:57,n:'Hojas Cayendo',c:'effect',r:'rare',p:50},
{i:58,n:'PÃ©talos de Rosa',c:'effect',r:'epic',p:75},
{i:59,n:'Burbujas Brillantes',c:'effect',r:'common',p:40},
{i:60,n:'ArcoÃ­ris Brillante',c:'effect',r:'legendary',p:145},
{i:61,n:'Resplandor Lunar',c:'effect',r:'epic',p:85},
{i:62,n:'Rayos de Sol',c:'effect',r:'epic',p:80},
{i:63,n:'Estela de Cometa',c:'effect',r:'legendary',p:135},
{i:64,n:'Galaxia Giratoria',c:'effect',r:'legendary',p:160},
{i:65,n:'Tormenta ElÃ©ctrica',c:'effect',r:'epic',p:95},
{i:66,n:'Remolino de Viento',c:'effect',r:'epic',p:90},
{i:67,n:'Olas del Mar',c:'effect',r:'rare',p:65},
{i:68,n:'Lava VolcÃ¡nica',c:'effect',r:'legendary',p:155},
{i:69,n:'JardÃ­n Floreciente',c:'effect',r:'rare',p:55},
{i:70,n:'Confeti de Colores',c:'effect',r:'common',p:45},
{i:71,n:'Fuegos Artificiales',c:'effect',r:'legendary',p:125},
{i:72,n:'Enjambre de Mariposas',c:'effect',r:'rare',p:60},
{i:73,n:'LuciÃ©rnagas Doradas',c:'effect',r:'epic',p:85},
{i:74,n:'Niebla Misteriosa',c:'effect',r:'rare',p:50},
{i:75,n:'Aurora Boreal',c:'effect',r:'legendary',p:170}
];
let S={streak:0,pts:0,last:null,missions:[{id:1,time:'12:00',done:false,label:'MediodÃ­a',h:12},{id:2,time:'15:00',done:false,label:'Tarde',h:15},{id:3,time:'22:00',done:false,label:'Noche',h:22}],own:[],eq:{hat:null,glasses:null,accessory:null,effect:null},music:false,pg:'home',filt:'all',molarName:'Muela'};
const A=new Audio('https://cdn.pixabay.com/download/audio/2021/08/04/audio_12b0c7443c.mp3');A.loop=1;A.volume=.3;
function load(){const d=localStorage.getItem('bv5');if(d){S={...S,...JSON.parse(d)};checkNewDay();}}
function save(){localStorage.setItem('bv5',JSON.stringify(S));}
function checkNewDay(){const today=new Date().toDateString();if(S.last&&S.last!==today){const lastDate=new Date(S.last);const todayDate=new Date(today);const diffDays=Math.floor((todayDate-lastDate)/(1000*60*60*24));if(diffDays>1){S.streak=0;}S.missions.forEach(m=>m.done=false);save();}}
function page(p){S.pg=p;document.querySelectorAll('[id^="t-"]').forEach(b=>b.classList.remove('tab-active'));document.getElementById('t-'+p).classList.add('tab-active');render();}
function music(){S.music?A.pause():A.play().catch(()=>{});S.music=!S.music;render();}
function getT(h){const n=new Date(),t=new Date();t.setHours(h,0,0,0);if(n>t)t.setDate(t.getDate()+1);const d=t-n;return Math.floor(d/3600000)+'h '+Math.floor(d%3600000/60000)+'m';}
function getMidnight(){const now=new Date();const midnight=new Date();midnight.setHours(24,0,0,0);const diff=midnight-now;const h=Math.floor(diff/3600000);const m=Math.floor((diff%3600000)/60000);const s=Math.floor((diff%60000)/1000);return`${h}h ${m}m ${s}s`;}
function doM(id){const m=S.missions.find(x=>x.id===id);if(!m.done){m.done=1;S.pts+=10;const today=new Date().toDateString();const allDone=S.missions.every(x=>x.done);if(allDone&&S.last!==today){S.streak++;S.last=today;}save();render();}}
function reset(){if(confirm('Â¿Reiniciar racha?')){S.streak=0;save();render();}}
function buy(id){const it=DB.find(x=>x.i===id);if(it&&S.pts>=it.p&&!S.own.includes(id)){S.pts-=it.p;S.own.push(id);save();render();}}
function equip(id){const it=DB.find(x=>x.i===id);if(!it||!S.own.includes(id))return;S.eq[it.c]=S.eq[it.c]===id?null:id;save();render();}
function filt(f){S.filt=f;render();}
function changeName(){const n=prompt('Â¿CÃ³mo quieres llamar a tu muela?',S.molarName);if(n&&n.trim()){S.molarName=n.trim();save();render();}}
function getHatSVG(id){
if(id===1)return'<rect x="-30" y="-5" width="60" height="15" rx="3" fill="#dc2626"/><ellipse cx="0" cy="-5" rx="25" ry="8" fill="#b91c1c"/>';
if(id===2)return'<path d="M-35 0 Q-30 -15,-20 -20 L20 -20 Q30 -15,35 0 L30 5 Q25 0,0 0 Q-25 0,-30 5 Z" fill="#8b4513"/><ellipse cx="0" cy="0" rx="38" ry="8" fill="#654321"/>';
if(id===3)return'<path d="M-25 -5 L-20 -25 L-10 -30 L0 -35 L10 -30 L20 -25 L25 -5 L20 0 L10 -5 L0 -3 L-10 -5 L-20 0 Z" fill="url(#gold)"/><defs><linearGradient id="gold"><stop offset="0%" stop-color="#fbbf24"/><stop offset="100%" stop-color="#f59e0b"/></linearGradient></defs>';
if(id===4)return'<ellipse cx="0" cy="5" rx="30" ry="6" fill="#1f2937"/><rect x="-15" y="-25" width="30" height="30" rx="15" fill="#111827"/><rect x="-18" y="-2" width="36" height="4" fill="#374151"/>';
if(id===5)return'<path d="M-25 0 Q-25 -20,-15 -25 L-10 -30 L0 -35 L10 -30 L15 -25 Q25 -20,25 0 Z" fill="#f8f8f8"/><rect x="-3" y="-38" width="6" height="8" fill="#f8f8f8"/>';
if(id===6)return'<circle cx="0" cy="-5" r="28" fill="#e5e7eb"/><circle cx="0" cy="-5" r="22" fill="#111827" opacity="0.2"/><rect x="-6" y="-35" width="12" height="10" fill="#ef4444"/>';
if(id===7)return'<ellipse cx="0" cy="0" rx="28" ry="8" fill="#1f2937"/><circle cx="-5" cy="-8" r="20" fill="#dc2626"/>';
if(id===8)return'<path d="M-35 5 L-30 -15 L-10 -20 L10 -20 L30 -15 L35 5 Z" fill="#1f2937"/><path d="M-25 -15 L-20 -25 L0 -28 L20 -25 L25 -15" fill="none" stroke="#fbbf24" stroke-width="2"/>';
if(id===9)return'<ellipse cx="0" cy="0" rx="30" ry="10" fill="#6b7280"/><path d="M-40 0 L-35 -15 L-30 -25 Q-28 -30,-25 -28 L-20 -15" fill="#4b5563"/><path d="M40 0 L35 -15 L30 -25 Q28 -30,25 -28 L20 -15" fill="#4b5563"/>';
if(id===10)return'<path d="M-25 0 Q-25 -15,-15 -20 L15 -20 Q25 -15,25 0 Z" fill="#dc2626"/><ellipse cx="0" cy="0" rx="28" ry="7" fill="#f8f8f8"/><circle cx="0" cy="-23" r="6" fill="#f8f8f8"/>';
if(id===11)return'<path d="M-20 -5 Q-15 -25,0 -28 Q15 -25,20 -5 L15 0 Q10 -8,0 -10 Q-10 -8,-15 0 Z" fill="#fbbf24"/><circle cx="5" cy="-22" r="8" fill="#ef4444"/>';
if(id===12)return'<path d="M-30 0 L-25 -15 Q-20 -25,-10 -28 L10 -28 Q20 -25,25 -15 L30 0 Z" fill="#dc2626"/><rect x="-5" y="-32" width="10" height="8" fill="#fbbf24"/><path d="M-35 -10 L-30 -20 L-25 -15" fill="#1f2937"/><path d="M35 -10 L30 -20 L25 -15" fill="#1f2937"/>';
if(id===13)return'<ellipse cx="0" cy="0" rx="35" ry="8" fill="#fef3c7"/><path d="M-30 0 Q-25 -12,-15 -15 L15 -15 Q25 -12,30 0" fill="#fde68a"/>';
if(id===14)return'<circle cx="0" cy="-8" r="25" fill="#10b981"/><circle cx="-15" cy="-15" r="8" fill="#ec4899"/><circle cx="15" cy="-15" r="8" fill="#f59e0b"/><circle cx="0" cy="-22" r="8" fill="#8b5cf6"/>';
if(id===15)return'<circle cx="0" cy="-15" r="20" fill="#fbbf24" opacity="0.3"/><circle cx="0" cy="-15" r="15" fill="#fef3c7"/><circle cx="0" cy="-15" r="8" fill="#fff" class="sparkle"/>';
if(id===16)return'<path d="M-15 0 Q-12 -15,-8 -25 L-5 -30 Q-3 -20,0 -18 Q3 -20,5 -30 L8 -25 Q12 -15,15 0" fill="#7c2d12"/><path d="M-8 -25 L-10 -35 L-5 -30" fill="#dc2626"/><path d="M8 -25 L10 -35 L5 -30" fill="#dc2626"/>';
if(id===17)return'<path d="M-28 5 L-25 -10 Q-20 -22,-10 -25 L10 -25 Q20 -22,25 -10 L28 5 Z" fill="#6b7280"/><rect x="-8" y="-30" width="16" height="8" fill="#dc2626"/><path d="M-22 -8 L-18 -15 L-15 -8" fill="#fbbf24"/>';
if(id===18)return'<path d="M-22 0 Q-20 -18,-8 -22 L8 -22 Q20 -18,22 0 Z" fill="#10b981"/><circle cx="0" cy="-25" r="5" fill="#fbbf24"/>';
if(id===19)return'<path d="M-20 0 L-15 -15 L-8 -22 L0 -25 L8 -22 L15 -15 L20 0 Z" fill="#8b5cf6"/><circle cx="-10" cy="-18" r="4" fill="#06b6d4" class="sparkle"/><circle cx="10" cy="-18" r="4" fill="#06b6d4" class="sparkle"/><circle cx="0" cy="-25" r="5" fill="#ec4899" class="sparkle"/>';
if(id===20)return'<ellipse cx="0" cy="0" rx="25" ry="8" fill="#eab308"/><circle cx="0" cy="-5" r="20" fill="#ca8a04"/><rect x="-4" y="-28" width="8" height="8" fill="#fef3c7"/><circle cx="0" cy="-32" r="3" fill="#fbbf24"/>';
return'<ellipse cx="0" cy="0" rx="28" ry="8" fill="#4b5563"/><path d="M-25 0 Q-22 -12,-12 -15 L12 -15 Q22 -12,25 0" fill="#6b7280"/>';
}
function getAccessorySVG(id){
if(id===41)return'<ellipse cx="0" cy="0" rx="15" ry="8" fill="#dc2626"/><ellipse cx="-12" cy="0" rx="8" ry="12" fill="#b91c1c"/><ellipse cx="12" cy="0" rx="8" ry="12" fill="#b91c1c"/>';
if(id===42)return'<circle cx="0" cy="-5" r="4" fill="#f8f8f8"/><circle cx="-8" cy="0" r="4" fill="#f8f8f8"/><circle cx="8" cy="0" r="4" fill="#f8f8f8"/><circle cx="-4" cy="5" r="4" fill="#f8f8f8"/><circle cx="4" cy="5" r="4" fill="#f8f8f8"/>';
if(id===43)return'<rect x="-20" y="-3" width="40" height="8" fill="#dc2626" transform="rotate(-15)"/><rect x="-20" y="3" width="40" height="8" fill="#f8f8f8" transform="rotate(-15)"/>';
if(id===44)return'<rect x="-4" y="0" width="8" height="20" fill="#2563eb"/><path d="M-8 0 L0 -8 L8 0 Z" fill="#1e40af"/>';
if(id===45)return'<circle cx="0" cy="0" r="3" fill="#fbbf24"/><circle cx="-8" cy="-2" r="3" fill="#f59e0b"/><circle cx="8" cy="-2" r="3" fill="#f59e0b"/><rect x="-2" y="-18" width="4" height="18" fill="#ca8a04"/>';
if(id===46)return'<circle cx="0" cy="0" r="12" fill="#fbbf24"/><path d="M0 -12 L3 -3 L12 -3 L5 3 L8 12 L0 6 L-8 12 L-5 3 L-12 -3 L-3 -3 Z" fill="#f59e0b"/>';
if(id===47)return'<path d="M-15 0 Q-10 -12,0 -10 Q10 -12,15 0 L12 8 Q8 5,0 8 Q-8 5,-12 8 Z" fill="#ec4899"/>';
if(id===48)return'<path d="M-25 0 Q-20 -15,-8 -20 L-5 -12 L0 -8 L5 -12 L8 -20 Q20 -15,25 0 L15 8 L0 5 L-15 8 Z" fill="#f8f8f8"/><path d="M-8 -20 L-5 -12 L0 -8" fill="#fef3c7"/><path d="M8 -20 L5 -12 L0 -8" fill="#fef3c7"/>';
if(id===49)return'<path d="M-5 0 L-15 18 L-12 22 Q-8 20,0 18 Q8 20,12 22 L15 18 L5 0 Z" fill="#dc2626"/><rect x="-6" y="-2" width="12" height="4" fill="#7c2d12"/>';
if(id===50)return'<path d="M-8 10 Q-12 15,-10 22 L-5 28 L0 25 L5 28 L10 22 Q12 15,8 10 L5 18 L0 20 L-5 18 Z" fill="#06b6d4"/><circle cx="-5" cy="18" r="3" fill="#0891b2"/><circle cx="5" cy="18" r="3" fill="#0891b2"/>';
return'<rect x="-12" y="0" width="24" height="6" fill="#3b82f6"/>';
}
function drawMolar(){const h=S.missions.filter(m=>m.done).length>=2;const e={hat:S.eq.hat?DB.find(c=>c.i===S.eq.hat):null,glasses:S.eq.glasses?DB.find(c=>c.i===S.eq.glasses):null,accessory:S.eq.accessory?DB.find(c=>c.i===S.eq.accessory):null,effect:S.eq.effect?DB.find(c=>c.i===S.eq.effect):null};return`<div class="relative flex flex-col items-center justify-center ${h?'molar-happy':''}"><button onclick="changeName()" class="mb-2 px-4 py-1 bg-purple-600 hover:bg-purple-700 rounded-full text-sm font-bold transition">âœï¸ ${S.molarName}</button><svg width="200" height="240" viewBox="0 0 200 240" class="drop-shadow-2xl relative z-20"><defs><linearGradient id="tg"><stop offset="0%" stop-color="#fff"/><stop offset="100%" stop-color="#f5f5f5"/></linearGradient><radialGradient id="sh"><stop offset="0%" stop-color="#fff" stop-opacity=".6"/><stop offset="100%" stop-color="#fff" stop-opacity="0"/></radialGradient></defs>${e.effect?`<g opacity="0.4" class="floating"><circle cx="100" cy="120" r="80" fill="${e.effect.i===51?'#f97316':e.effect.i===52?'#fbbf24':e.effect.i===55?'#3b82f6':'#a855f7'}" opacity="0.3"/></g>`:''}<ellipse cx="100" cy="220" rx="80" ry="15" fill="#000" opacity=".2"/><path d="M60 40 Q50 45 45 60 L45 130 Q45 150 55 165 L70 190 Q75 200 80 200 L80 200 Q85 210 90 210 L110 210 Q115 210 120 200 L120 200 Q125 200 130 190 L145 165 Q155 150 155 130 L155 60 Q150 45 140 40 Q130 35 120 35 L80 35 Q70 35 60 40" fill="url(#tg)" stroke="#e5e5e5" stroke-width="3"/><ellipse cx="70" cy="70" rx="25" ry="40" fill="url(#sh)"/><ellipse cx="130" cy="70" rx="25" ry="40" fill="url(#sh)"/><path d="M75 90 L85 110 L75 130 L65 110 Z" fill="#f